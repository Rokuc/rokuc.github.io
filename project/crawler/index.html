<!DOCTYPE html>
<!-- This site was created with Wowchemy. https://www.wowchemy.com -->
<!-- Last Published: November 12, 2023 --><html lang="en-us" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.7.0 for Hugo" />
  

  
  












  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  

  
  
    
    <script src="/js/mathjax-config.js"></script>
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.047268c6dd09ad74ba54a0ba71837064.css" media="print" onload="this.media='all'">

  
  
  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.2/css/academicons.min.css" integrity="sha512-KlJCpRsLf+KKu2VQa5vmRuClRFjxc5lXO03ixZt82HZUk41+1I0bD8KBSA0fY290ayMfWYI9udIqeOWSu1/uZg==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    
    
    
    
      
      
    
    
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.042e26407c9e383d96a1f26d6787c686.css" />

  
  
  

  
  
  
  
  
  
  
    
    
    <link rel="stylesheet" href="/css/libs/chroma/github-dark.min.css" title="hl-light" media="print" onload="this.media='all'" >
    <link rel="stylesheet" href="/css/libs/chroma/github-light.min.css" title="hl-dark" media="print" onload="this.media='all'" disabled>
  

  
  


























  
  
  






  <meta name="author" content="Rok Jankovic" />





  

<meta name="description" content="In this project we will download real estate data from a Slovenian listings page, store the results in GBQ and visualize them with Looker Studio." />



<link rel="alternate" hreflang="en-us" href="https://rokuc.github.io/project/crawler/" />
<link rel="canonical" href="https://rokuc.github.io/project/crawler/" />



  <link rel="manifest" href="/manifest.webmanifest" />



<link rel="icon" type="image/png" href="/media/icon_hub6cbf2e3867c55f0faea7610ce2a8cb5_10290_32x32_fill_lanczos_center_3.png" />
<link rel="apple-touch-icon" type="image/png" href="/media/icon_hub6cbf2e3867c55f0faea7610ce2a8cb5_10290_180x180_fill_lanczos_center_3.png" />

<meta name="theme-color" content="#1565c0" />










  






<meta property="twitter:card" content="summary_large_image" />

  <meta property="twitter:site" content="@wowchemy" />
  <meta property="twitter:creator" content="@wowchemy" />
<meta property="twitter:image" content="https://rokuc.github.io/project/crawler/featured.png" />
<meta property="og:site_name" content="Rok&#39;s Projects" />
<meta property="og:url" content="https://rokuc.github.io/project/crawler/" />
<meta property="og:title" content="Collecting, Storing, and Visualizing Real Estate Data | Rok&#39;s Projects" />
<meta property="og:description" content="In this project we will download real estate data from a Slovenian listings page, store the results in GBQ and visualize them with Looker Studio." /><meta property="og:image" content="https://rokuc.github.io/project/crawler/featured.png" /><meta property="og:locale" content="en-us" />

  
    <meta
      property="article:published_time"
      content="2022-11-12T00:00:00&#43;00:00"
    />
  
  
    <meta property="article:modified_time" content="2022-11-12T00:00:00&#43;00:00">
  






    









<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://rokuc.github.io/project/crawler/"
  },
  "headline": "Collecting, Storing, and Visualizing Real Estate Data",
  
  "image": [
    "https://rokuc.github.io/project/crawler/featured.png"
  ],
  
  "datePublished": "2022-11-12T00:00:00Z",
  "dateModified": "2022-11-12T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "Rok Jankovic"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Rok's Projects",
    "logo": {
      "@type": "ImageObject",
      "url": "https://rokuc.github.io/media/icon_hub6cbf2e3867c55f0faea7610ce2a8cb5_10290_192x192_fill_lanczos_center_3.png"
    }
  },
  "description": "In this project we will download real estate data from a Slovenian listings page, store the results in GBQ and visualize them with Looker Studio."
}
</script>

  

  




  
  
  

  
  

  


  
  <title>Collecting, Storing, and Visualizing Real Estate Data | Rok&#39;s Projects</title>

  
  
  
  











</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="64a58d9b6fde1764a7b5b8862892dbda" >

  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.ec9d49ca50e4b80bdb08f0417a28ed84.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header header--fixed">
  
  
  
  
  












<header>
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/">Rok&#39;s Projects</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/">Rok&#39;s Projects</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>Home</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#projects"><span>Projects</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#posts"><span>Posts</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#contact"><span>Contact</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
        

        
        
        
        <li class="nav-item">
          <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        
        
        <li class="nav-item dropdown theme-dropdown">
          <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
            <i class="fas fa-moon" aria-hidden="true"></i>
          </a>
          <div class="dropdown-menu">
            <a href="#" class="dropdown-item js-set-theme-light">
              <span>Light</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-dark">
              <span>Dark</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-auto">
              <span>Automatic</span>
            </a>
          </div>
        </li>
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    <article class="article article-project">

  






















  
  


<div class="article-container pt-3">
  <h1>Collecting, Storing, and Visualizing Real Estate Data</h1>

  

  


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    Nov 12, 2022
  </span>
  

  

  

  
  
  
  

  
  

</div>

  





</div>


<div class="article-header article-container featured-image-wrapper mt-4 mb-4" style="max-width: 720px; max-height: 405px;">
  <div style="position: relative">
    <img src="/project/crawler/featured_hu9745234ef0209b4f995aeda01714f7c0_44532_720x2500_fit_q75_h2_lanczos_3.webp" width="720" height="405" alt="" class="featured-image">
    <span class="article-header-caption">Schematic idea of the project</span>
  </div>
</div>



  <div class="article-container">

    <div class="article-style">
      <h2 id="project-overview">Project overview</h2>
<p>We will use selenium base to connect to a web page and collect data about real estate prices in Slovenia, then merge it with geospatial data and finally store it.</p>
<p>The two main topics we discuss are:</p>
<ul>
<li>Creating a crawler using Python,</li>
<li>Mapping the data to Google BigQuery.</li>
</ul>
<p>The data we will map to BigQuery can be visualized in LookerStudio as shown bellow.</p>
<h6 id="visualization">Visualization</h6>
<p>















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img alt="Final Visualization"
           src="/project/crawler/visual.gif"
           loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<p>In a future article, we will discuss the visualization of this data in a Django web application using a Mapbox GLJS setup to visualize the geospatial data and use postgresql as our storage.</p>
<h2 id="creating-a-crawler-using-python">Creating a crawler using Python</h2>
<p>Before we start crawling the web let&rsquo;s look at an html code snippet from the webpage we will be crawling.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;property-2 row column-sm property-label property-grid list-view no-sidebar&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;col-md-6 col-md-12 position-relative&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;col-md-12 line&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;col-md-6 col-md-12 position-relative&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;col-md-12 line&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>The snippet starts with <em>div</em> instance which is a parent element. Every element has a <em>class</em>  attribute and is assigned a speciffic value. In our example attribute of parent element has value of <em>&ldquo;property-2 row column-sm property-label property-grid list-view no-sidebar&rdquo;</em>. Contrary to the code above every element can have multiple atributes. The indented elements stored within the parent <em>div</em> are called child elements. Finally, inner text of each ellement could be written inplace of <em>&hellip;</em> the three dots.</p>
<p>To run our script, we first import the packages to crawl the web and define some elementary functions.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">seleniumbase</span> <span class="kn">import</span> <span class="n">Driver</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="kn">import</span> <span class="n">By</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">re</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">find_element_by_attr</span><span class="p">(</span><span class="n">browser</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">multiple</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">xpath</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&#34;//</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2">[@</span><span class="si">{</span><span class="n">attr</span><span class="si">}</span><span class="s2">=&#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;]&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">multiple</span><span class="o">==</span><span class="kc">True</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">browser</span><span class="o">.</span><span class="n">find_elements</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span><span class="n">xpath</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span><span class="n">xpath</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">find_element_by_innertext</span><span class="p">(</span><span class="n">browser</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">innertext</span><span class="p">,</span> <span class="n">multiple</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">xpath</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&#34;//</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2">[contains(text(),&#39;</span><span class="si">{</span><span class="n">innertext</span><span class="si">}</span><span class="s2">&#39;)]&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">multiple</span><span class="o">==</span><span class="kc">True</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">browser</span><span class="o">.</span><span class="n">find_elements</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span><span class="n">xpath</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span><span class="n">xpath</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">find_element_by_regex</span><span class="p">(</span><span class="n">browser</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">x_regx</span><span class="p">,</span> <span class="n">multiple</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">xpath</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&#34;//</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2">[contains(@</span><span class="si">{</span><span class="n">attr</span><span class="si">}</span><span class="s2">,&#39;</span><span class="si">{</span><span class="n">x_regx</span><span class="si">}</span><span class="s2">&#39;)]&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">multiple</span><span class="o">==</span><span class="kc">True</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">browser</span><span class="o">.</span><span class="n">find_elements</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span><span class="n">xpath</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span><span class="n">xpath</span><span class="p">)</span>
</span></span></code></pre></div><p>We can use the above <em>find_element_by_</em> functions to simplify the search of web elements and make the code more readable for other users.</p>
<p>To apply the functions, first open the Chrome browser using Python.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="n">browser</span> <span class="o">=</span> <span class="n">Driver</span><span class="p">(</span><span class="n">uc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span></code></pre></div><p>The uc (undetected-chromedriver) argument is a neat feture of the Driver function which evades bot-detection, for example bypassing cloudflare, when surfing the web.</p>
<p>To start surfing the property listing portal with Selenium, we will move to the next code block. As a side note, if you look to buy property in Slovenia, do not hesitate to visit <a href="https://www.nepremicnine.net/" target="_blank" rel="noopener">Nepremicnine.net</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">go_to_webpage</span><span class="p">(</span><span class="n">browser</span><span class="p">,</span> <span class="n">webpage</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">browser</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">webpage</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">browser</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">accept_cookies</span><span class="p">(</span><span class="n">browser</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">find_element_by_innertext</span><span class="p">(</span><span class="n">browser</span><span class="p">,</span> <span class="s1">&#39;button&#39;</span><span class="p">,</span> <span class="s1">&#39;Dovoli vse &#39;</span><span class="p">,</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>      
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">browser</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">start_browsing</span><span class="p">(</span><span class="n">browser</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">find_element_by_innertext</span><span class="p">(</span><span class="n">browser</span><span class="p">,</span> <span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="s1">&#39;rezultate&#39;</span><span class="p">,</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span><span class="s1">&#39;..&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">browser</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">browser</span> <span class="o">=</span> <span class="n">go_to_webpage</span><span class="p">(</span><span class="n">browser</span><span class="p">,</span> <span class="s1">&#39;https://www.nepremicnine.net/&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">browser</span> <span class="o">=</span> <span class="n">accept_cookies</span><span class="p">(</span><span class="n">browser</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">browser</span> <span class="o">=</span> <span class="n">start_browsing</span><span class="p">(</span><span class="n">browser</span><span class="p">)</span>
</span></span></code></pre></div><p>The sequence of functions above allows us to surf the portal and access the listings page. We first accept all cookies and then move on to listings page by clicking the button with &ldquo;rezultate&rdquo; written on it (it&rsquo;s the &ldquo;show results&rdquo; button - in Slovenian &ldquo;Prikaži Rezultate&rdquo;).</p>
<p>Once the results are shown and we see all available listings on the page, we can access them with Selenium by runing the code bellow and store the results in ad_list.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="n">ad_list</span> <span class="o">=</span> <span class="n">find_element_by_regex</span><span class="p">(</span><span class="n">browser</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;col-md-6 col-md-12 position-relative&#39;</span><span class="p">,</span> <span class="n">multiple</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ad</span> <span class="o">=</span> <span class="n">ad_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">ad_description</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span></code></pre></div><p>As we are not automating the crawler, we will look at the first listing and store the price and property size information available in its description. If we were to further automate the process and go through every listing, we would have to create an additional <em>for loop</em> in our script.</p>
<p>Without this script extention we will collect the desired information from the listings page for a single ad and store it in a pandas dataframe.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Title&#39;</span><span class="p">,</span> <span class="s1">&#39;Size_m2&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">,</span> <span class="s1">&#39;Region&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">df_row</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Title&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Size_m2&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Region&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ad_description</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">    <span class="n">df_row</span><span class="p">[</span><span class="s1">&#39;Title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Ad n.1&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="s2">&#34;€&#34;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">ad_description</span><span class="p">[</span><span class="n">element</span><span class="p">])):</span>
</span></span><span class="line"><span class="cl">        <span class="n">df_row</span><span class="p">[</span><span class="s1">&#39;Price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ad_description</span><span class="p">[</span><span class="n">element</span><span class="p">]</span> <span class="c1">#ad_description[-1]</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="s2">&#34;m2&#34;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">ad_description</span><span class="p">[</span><span class="n">element</span><span class="p">])</span> <span class="ow">and</span> <span class="s2">&#34;Zemljišče: &#34;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">ad_description</span><span class="p">[</span><span class="n">element</span><span class="p">])):</span>
</span></span><span class="line"><span class="cl">        <span class="n">df_row</span><span class="p">[</span><span class="s1">&#39;Size_m2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\sm2.*)&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">ad_description</span><span class="p">[</span><span class="n">element</span><span class="p">])</span> <span class="c1">#ad_description[-2]</span>
</span></span><span class="line"><span class="cl">    <span class="n">df_row</span><span class="p">[</span><span class="s1">&#39;Region&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Osrednjeslovenska&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">df_row</span><span class="p">])],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span></code></pre></div><p>By executing the script in the code block above, we created the outline for our crawler to collect information from the web and are ready to move to the next step in which we enrich the data we could have collected by further automating this crawler.</p>
<table>
<thead>
<tr>
<th style="text-align:right"></th>
<th style="text-align:left">Title</th>
<th style="text-align:left">Size_m2</th>
<th style="text-align:left">Price</th>
<th style="text-align:left">Region</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">0</td>
<td style="text-align:left">Ad n.1</td>
<td style="text-align:left">69,00</td>
<td style="text-align:left">308.000,00 €</td>
<td style="text-align:left">Osrednjeslovenska</td>
</tr>
</tbody>
</table>
<h3 id="further-engineering-and-preparing-our-data">Further engineering and preparing our data</h3>
<p>Before continuing we have to download a file containing information about the geometric shapes of Slovenian regions. This can be done by visiting <a href="https://www.diva-gis.org/gdata" target="_blank" rel="noopener">DIVA-GIS</a> and download data for Slovenias&rsquo; administrative units. With this geospatial data, we can start bringing our data to life.</p>
<p>To access the downloaded data, we should first import gopandas and some other packages, that will allow us to manipulate it.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">shapely.ops</span> <span class="kn">import</span> <span class="n">orient</span>
</span></span></code></pre></div><p>From the downloaded files, we can create a geopandas dataframe, with the information that is available in the <em>SVN_adm1.shp</em> shape file and contains geometries of Slovenias&rsquo; regions.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s1">&#39;./SVN_adm/SVN_adm1.shp&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">gdf</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[[</span><span class="s1">&#39;NAME_1&#39;</span><span class="p">,</span><span class="s1">&#39;geometry&#39;</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="n">gdf</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Region&#39;</span><span class="p">,</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span>
</span></span></code></pre></div><p>One thing that is important with geospatial data is to have polygons <a href="https://cloud.google.com/bigquery/docs/geospatial-data#polygon_orientation" target="_blank" rel="noopener">correctly orriented</a>, otherwise we will not be able to visualize the geometries on a field map. To make sure that our polygons are correctly oriented and ready to be visualized, we can use the following line of code.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">orient</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,))</span>
</span></span></code></pre></div><p>Information stored in <em>gdf</em> will tell us what combination of longitudes and latitudes form the shape/geometry that corresponds to a region of Slovenia.</p>
<p>From here on we will create another dataframe containing information on the average price per m$^2$ in each of the Regions discussed (in the previous section we collected data from only one listing, hence our data is simulated).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl"><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Region&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Gorenjska&#39;</span><span class="p">,</span><span class="s1">&#39;Goriška&#39;</span><span class="p">,</span><span class="s1">&#39;Jugovzhodna Slovenija&#39;</span><span class="p">,</span><span class="s1">&#39;Koroška&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="s1">&#39;Notranjsko-kraška&#39;</span><span class="p">,</span><span class="s1">&#39;Obalno-kraška&#39;</span><span class="p">,</span><span class="s1">&#39;Osrednjeslovenska&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="s1">&#39;Podravska&#39;</span><span class="p">,</span><span class="s1">&#39;Pomurska&#39;</span><span class="p">,</span><span class="s1">&#39;Savinjska&#39;</span><span class="p">,</span><span class="s1">&#39;Spodnjeposavska&#39;</span><span class="p">,</span><span class="s1">&#39;Zasavska&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">              <span class="s1">&#39;Price_m2&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">)))</span> <span class="o">*</span> <span class="mi">4000</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">             <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dictionary</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">gdf</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">gdf</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Region&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
</span></span></code></pre></div><p>The enriched geo-dataframe can now be used to visualize a <a href="#visualization">field map of Slovenia</a> as it contains pricing information for a specific region. Our final step is storring the information in BigQuery and will be discussed in the last section.</p>
<h2 id="mapping-the-data-to-google-bigquery">Mapping the data to Google BigQuery</h2>
<p>We will not discus the setup of the project and the architecture, but focus on the mapping process. In order to map our geo-dataframe from the previous section we will use GCP&rsquo;s BigQuery extension for Python.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">google.cloud</span> <span class="kn">import</span> <span class="n">bigquery</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;GOOGLE_APPLICATION_CREDENTIALS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&lt;service account location&gt;&#39;</span>
</span></span></code></pre></div><p>Before mapping the data we should create a service account in BigQuery, for Google to know who is mapping the data to our project. Once it&rsquo;s set-up, we can construct a BigQuery client object and generate a source file that will be mapped in our load job.</p>
<p>In order to configure the load job, we need to specify the format and schema of the data that we will be mapping. When the configuration of the mapping is complete, we should specify the table name and execute our script.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="n">client</span> <span class="o">=</span> <span class="n">bigquery</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">source_file</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">(</span><span class="n">gdf</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">doublequote</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">job_config</span> <span class="o">=</span> <span class="n">bigquery</span><span class="o">.</span><span class="n">LoadJobConfig</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">source_format</span><span class="o">=</span><span class="n">bigquery</span><span class="o">.</span><span class="n">SourceFormat</span><span class="o">.</span><span class="n">CSV</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">schema</span><span class="o">=</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="n">bigquery</span><span class="o">.</span><span class="n">SchemaField</span><span class="p">(</span><span class="s2">&#34;Region&#34;</span><span class="p">,</span> <span class="s2">&#34;STRING&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">bigquery</span><span class="o">.</span><span class="n">SchemaField</span><span class="p">(</span><span class="s2">&#34;Price_m2&#34;</span><span class="p">,</span> <span class="s2">&#34;FLOAT&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">bigquery</span><span class="o">.</span><span class="n">SchemaField</span><span class="p">(</span><span class="s2">&#34;geometry&#34;</span><span class="p">,</span> <span class="s2">&#34;GEOGRAPHY&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="n">field_delimiter</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">write_disposition</span> <span class="o">=</span> <span class="n">bigquery</span><span class="o">.</span><span class="n">WriteDisposition</span><span class="o">.</span><span class="n">WRITE_TRUNCATE</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">skip_leading_rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">table_id</span> <span class="o">=</span> <span class="s2">&#34;project.dataset.table&#34;</span> <span class="c1"># Here you can define the table where you would like to store your data</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">job</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">load_table_from_file</span><span class="p">(</span><span class="n">source_file</span><span class="p">,</span> <span class="n">table_id</span><span class="p">,</span> <span class="n">job_config</span><span class="o">=</span><span class="n">job_config</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">job</span><span class="o">.</span><span class="n">result</span><span class="p">()</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">table</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_table</span><span class="p">(</span><span class="n">table_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Loaded </span><span class="si">{}</span><span class="s2"> rows and </span><span class="si">{}</span><span class="s2"> columns to </span><span class="si">{}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">num_rows</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">schema</span><span class="p">),</span> <span class="n">table_id</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><p>If the script was executed sccesfuly we should receive a message notifying us of the number of rows and columns that were loaded to our table.</p>
<p>Thank you for reading this article. I hope you enjoyed reading it as much as I enjoyed writing it.</p>
<p>Disclaimer: The crawler discussed in this article is not created and should not be used for commercial purposes. It only serves the demonstrative purpose of this article.</p>

    </div>

    





<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/data-engineering/">Data Engineering</a>
  
  <a class="badge badge-light" href="/tag/recent/">Recent</a>
  
</div>



<div class="share-box">
  <ul class="share">
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Frokuc.github.io%2Fproject%2Fcrawler%2F&amp;text=Collecting%2C&#43;Storing%2C&#43;and&#43;Visualizing&#43;Real&#43;Estate&#43;Data" target="_blank" rel="noopener" class="share-btn-twitter" aria-label="twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Frokuc.github.io%2Fproject%2Fcrawler%2F&amp;t=Collecting%2C&#43;Storing%2C&#43;and&#43;Visualizing&#43;Real&#43;Estate&#43;Data" target="_blank" rel="noopener" class="share-btn-facebook" aria-label="facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Frokuc.github.io%2Fproject%2Fcrawler%2F&amp;title=Collecting%2C&#43;Storing%2C&#43;and&#43;Visualizing&#43;Real&#43;Estate&#43;Data" target="_blank" rel="noopener" class="share-btn-linkedin" aria-label="linkedin-in">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  



  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="https://rokuc.github.io/"><img class="avatar mr-3 avatar-circle" src="/authors/admin/avatar_hu48bc21eb69144abfe9f796a91848222b_91046_270x270_fill_q75_lanczos_center.jpg" alt="Rok Jankovic"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://rokuc.github.io/">Rok Jankovic</a></h5>
      <h6 class="card-subtitle">Data Scientist</h6>
      <p class="card-text">My work related experience is mostly connected to data engineering and data analysis of marketing data.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/jankorok" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/in/rok-jankovic/" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>


















    <div class="project-related-pages content-widget-hr">
      
      

      
      
      

      
      
      

      
      
      
    </div>
  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      
    </div>
    
  </div>

  


<script src="/js/vendor-bundle.min.f64289d8217e08e3afcd597d60836062.js"></script>




  

  
  

  













  
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
  
    <script src="https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
  












  
  
  
  
  
  
  

















<script id="page-data" type="application/json">{"use_headroom":true}</script>


  <script src="/js/wowchemy-headroom.db4755770454eb63685f8de785c0a172.js" type="module"></script>









  
  


<script src="/en/js/wowchemy.min.3322c0d94f0e691b0b24c63f4c41064b.js"></script>

























</body>
</html>
